---
date:
  created: 2025-03-18
  updated: 2025-03-30

categories:
- Miscellany

tags:
- Material for MkDocs

slug: setup-mkdocs-material-blog
---

# Setting up a blog with Material for MkDocs

GitHub template: [:octicons-repo-template-16: dd-n-kk/mkdocs-material-blog][2]

<!-- more -->

!!! quote "&#8203;"
    I specify YAML settings with a [JSON pointer][29]-inspired syntax,
    using `i` as a wildcard array index.

    For example, `/theme/features/i: navigation.instant` means:

    ```yml
    theme:
      features:
      - navigation.instant
    ```


## How things are related

- [MkDocs][3] is a static documentation site generator based on
  [Python Markdown][13], and a core dependency of Material for MkDocs.

- [:simple-materialformkdocs: Material for MkDocs][1] was initially an MkDocs theme,
  but has evolved into a full-fledged documentation framework. In particular,
  it has many built-in [plugins][14] that provide opt-in _website_ features.

- What Material for MkDocs refer to as [extensions][15] are
  _syntax_ extensions of Python Markdown. They are grouped into:
    - _Python Markdown_: The [built-in extensions][16] of Python Markdown.
    - _Python Markdown extension_:
      These are [PyMdown Extensions][16] which further strengthens Python Markdown.

- [mkdocstrings][17] is an MkDocs plugin that provides powerful functionalities
  such as auto-documentation and API cross-reference.
  It is indispensable for documentation but out of scope for a blog.


## How to get started smoothly

- In MkDocs documentation:
    - [This page][4] introduces some fundamental concepts and syntax.
    - [This page][9] explains deployment. (Essentially, run `mkdocs gh-deploy`.)

- The documentation structure of Material for MkDocs is not super straightforward.
  I suggest:

    1. Skim through the following sections in _Getting started_:
        - [Installation][5]
        - [Creating your site][6]
        - [Customization][8]
        - [Basic blogs][10]
        - [Navigation, authors, and pagination][11]

    2. Create a minimal setup of your blog.

    3. Go through [_Setup_][12] and adjust your `mkdocs.yml` accordingly.
       But I suggest skipping _Extensions_ for now.

    4. Go through [_Plugins_][14] and add what you need.
        - Particularly: [_Blog_][18], [_Meta_][19], [_Search_][20], and [_Tags_][21].

    5. Go through [_Reference_][22],
       which is more of a goal-oriented guide about _extensions_.
        - Particularly: [_Code blocks_][23], [_Math_][24], [_Images_][25],
          [_Footnotes_][26], and [_Icons & emojis_][27].
        - You might wanna just copy-paste the [recommended setup][28].


## Navigation in plain words

!!! quote "&#8203;"
    All options in this section are under `/theme/features/i:`.

- By default, the left sidebar handles all cross-page navigation,
  with subsections folded within top-level sections.

- `navigation.tabs`:

    The top-level sections are moved into a horizonal menu below the header.
    Second-level sections become "top-level" in the left sidebar.
    Usually this is tidy, but for a shallow-structured site such as a blog,
    this may cause the left sidebar to be empty and the section title to be
    duplicated in the horizontal menu, the left sidebar, and the main content area.

- `navigation.sections`:

    The effective top-level sections in the left sidebar are unfolded
    if the viewport is large enough.

- `navigation.expand`:

    All subsections in the left sidebar are expanded.

- `navigation.indexes`:

    If a section is structured as a directory with an `index.md`,
    in the left sidebar the link to `index` is merged with the section title.

- `navigation.prune`:

    This option avoids rendering folded subsection titles with a trick:
    When clicking to "unfold" a section, you are actually directed into the section page.
    Naturally, this is incompatible with `navigation.expand`.

- `navigation.instant`:

    This option enables single-page application mode which improves load time.
    However, I haved observed at least two ill side effects:

    - Plotly plots may require a manual refresh to load properly.
    - giscus comment system may not change theme when light/dark mode is toggled.


## Tips and gotchas

- Python Markdown requires each nesting level to be indented by 4 spaces.

- Add `site/` to `.gitignore` in the main branch
  because its contents are generated by `mkdocs build`.

- For a stand-alone blog (one that is not part of a documentation site),
  set `/plugins/i/blog/blog_dir: .` so that the blog is placed at root level.

- `/plugins/i/tags/tags_file` is [deprecated][30].
  Use a [tags listing marker][31] instead.

- When `/theme/palette/primary` is set to be a neutral color (e.g., `black`),
  link text will be colored indigo. This can be overriden in the [custom CSS][32]:
  ```css
  [data-md-color-scheme="default"][data-md-color-primary="black"] { /* Light mode */
    --md-typeset-a-color: #002577;
  }
  [data-md-color-scheme="slate"][data-md-color-primary="black"] { /* Dark mode */
    --md-typeset-a-color: #E6CA95;
  }
  ```

- [`sane_lists`][33] is another useful extension not mentioned by the documentation
    of Material for MkDocs.


[1]: https://squidfunk.github.io/mkdocs-material/
[2]: https://github.com/dd-n-kk/mkdocs-material-blog
[3]: https://www.mkdocs.org/
[4]: https://www.mkdocs.org/user-guide/writing-your-docs/
[5]: https://squidfunk.github.io/mkdocs-material/getting-started/
[6]: https://squidfunk.github.io/mkdocs-material/creating-your-site/
[7]: https://squidfunk.github.io/mkdocs-material/publishing-your-site/
[8]: https://squidfunk.github.io/mkdocs-material/customization/
[9]: https://www.mkdocs.org/user-guide/deploying-your-docs/
[10]: https://squidfunk.github.io/mkdocs-material/tutorials/blogs/basic/
[11]: https://squidfunk.github.io/mkdocs-material/tutorials/blogs/navigation/
[12]: https://squidfunk.github.io/mkdocs-material/setup/
[13]: https://python-markdown.github.io/
[14]: https://squidfunk.github.io/mkdocs-material/plugins/
[15]: https://squidfunk.github.io/mkdocs-material/setup/extensions/
[16]: https://python-markdown.github.io/extensions/
[17]: https://mkdocstrings.github.io/
[18]: https://squidfunk.github.io/mkdocs-material/plugins/blog/
[19]: https://squidfunk.github.io/mkdocs-material/plugins/meta/
[20]: https://squidfunk.github.io/mkdocs-material/plugins/search/
[21]: https://squidfunk.github.io/mkdocs-material/plugins/tags/
[22]: https://squidfunk.github.io/mkdocs-material/reference/
[23]: https://squidfunk.github.io/mkdocs-material/reference/code-blocks/
[24]: https://squidfunk.github.io/mkdocs-material/reference/math/
[25]: https://squidfunk.github.io/mkdocs-material/reference/images/
[26]: https://squidfunk.github.io/mkdocs-material/reference/footnotes/
[27]: https://squidfunk.github.io/mkdocs-material/reference/icons-emojis/
[28]: https://squidfunk.github.io/mkdocs-material/setup/extensions/#recommended-configuration
[29]: https://gregsdennis.github.io/Manatee.Json/usage/pointer.html
[30]: https://squidfunk.github.io/mkdocs-material/plugins/tags/#config.tags_file
[31]: https://squidfunk.github.io/mkdocs-material/setup/setting-up-tags/#adding-a-tags-index
[32]: https://squidfunk.github.io/mkdocs-material/customization/#additional-css
[33]: https://python-markdown.github.io/extensions/sane_lists/
