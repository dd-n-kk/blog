
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A blog sharing code snippets and learnings">
      
      
        <meta name="author" content="dd-n-kk">
      
      
        <link rel="canonical" href="https://dd-n-kk.github.io/blog/clean-uci-drug-review-dataset/">
      
      
        <link rel="prev" href="../setup-mkdocs-material-blog/">
      
      
        <link rel="next" href="../get-github-repo-issues-comments/">
      
      
      <link rel="icon" href="../assets/rain.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>Cleaning UCI ML Drug Review Dataset - Snippets in Rain</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      
  
  
    
    
  
  
  <style>:root{--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20640%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M320%2096C178.6%2096%2064%20210.6%2064%20352v96c0%2017.7-14.3%2032-32%2032S0%20465.7%200%20448v-96C0%20175.3%20143.3%2032%20320%2032s320%20143.3%20320%20320v96c0%2017.7-14.3%2032-32%2032s-32-14.3-32-32v-96c0-141.4-114.6-256-256-256m0%20192c-35.3%200-64%2028.7-64%2064v96c0%2017.7-14.3%2032-32%2032s-32-14.3-32-32v-96c0-70.7%2057.3-128%20128-128s128%2057.3%20128%20128v96c0%2017.7-14.3%2032-32%2032s-32-14.3-32-32v-96c0-35.3-28.7-64-64-64m-160%2064v96c0%2017.7-14.3%2032-32%2032s-32-14.3-32-32v-96c0-123.7%20100.3-224%20224-224s224%20100.3%20224%20224v96c0%2017.7-14.3%2032-32%2032s-32-14.3-32-32v-96c0-88.4-71.6-160-160-160s-160%2071.6-160%20160%22/%3E%3C/svg%3E');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cleaning-uci-ml-drug-review-dataset" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Snippets in Rain" class="md-header__button md-logo" aria-label="Snippets in Rain" data-md-component="logo">
      
  <img src="../assets/rain.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Snippets in Rain
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Cleaning UCI ML Drug Review Dataset
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="light-blue"  aria-label="Light to Dark"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Light to Dark" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="orange"  aria-label="Dark to Light"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Dark to Light" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Snippets in Rain" class="md-nav__button md-logo" aria-label="Snippets in Rain" data-md-component="logo">
      
  <img src="../assets/rain.svg" alt="logo">

    </a>
    Snippets in Rain
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Posts
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Tags
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Tags
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../topics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Topics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../series/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Series
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Archive
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../archive/2025/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Categories
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../category/data-preparation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data preparation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../category/deep-learning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deep learning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../category/miscellany/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Miscellany
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="Contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#preparations" class="md-nav__link">
    <span class="md-ellipsis">
      Preparations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#observations" class="md-nav__link">
    <span class="md-ellipsis">
      Observations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verifying-uniqueness-of-uniqueid" class="md-nav__link">
    <span class="md-ellipsis">
      Verifying uniqueness of uniqueID
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scanning-for-invalid-drugnames" class="md-nav__link">
    <span class="md-ellipsis">
      Scanning for invalid drugNames
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handling-capitalization-of-drugnames" class="md-nav__link">
    <span class="md-ellipsis">
      Handling capitalization of drugNames
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleaning-invalid-conditions" class="md-nav__link">
    <span class="md-ellipsis">
      Cleaning invalid conditions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#correcting-corrupted-conditions" class="md-nav__link">
    <span class="md-ellipsis">
      Correcting corrupted conditions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decoding-html-entities-in-reviews" class="md-nav__link">
    <span class="md-ellipsis">
      Decoding HTML entities in reviews
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simplifying-newlines-in-reviews" class="md-nav__link">
    <span class="md-ellipsis">
      Simplifying newlines in reviews
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reformatting-date" class="md-nav__link">
    <span class="md-ellipsis">
      Reformatting date
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#saving-and-sharing" class="md-nav__link">
    <span class="md-ellipsis">
      Saving and sharing
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content md-content--post" data-md-component="content">
    <div class="md-sidebar md-sidebar--post" data-md-component="sidebar" data-md-type="navigation">
      <div class="md-sidebar__scrollwrap">
        <div class="md-sidebar__inner md-post">
          <nav class="md-nav md-nav--primary">
            <div class="md-post__back">
              <div class="md-nav__title md-nav__container">
                <a href=".." class="md-nav__link">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
                  <span class="md-ellipsis">
                    Back to index
                  </span>
                </a>
              </div>
            </div>
            
            <ul class="md-post__meta md-nav__list">
              <li class="md-nav__item md-nav__item--section">
                <div class="md-post__title">
                  <span class="md-ellipsis">
                    Metadata
                  </span>
                </div>
                <nav class="md-nav">
                  <ul class="md-nav__list">
                    <li class="md-nav__item">
                      <div class="md-nav__link">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5z"/></svg>
                        <time datetime="2025-03-22 00:00:00+00:00" class="md-ellipsis">2025-03-22</time>
                      </div>
                    </li>
                    
                      <li class="md-nav__item">
                        <div class="md-nav__link">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15 13h1.5v2.82l2.44 1.41-.75 1.3L15 16.69zm4-5H5v11h4.67c-.43-.91-.67-1.93-.67-3a7 7 0 0 1 7-7c1.07 0 2.09.24 3 .67zM5 21a2 2 0 0 1-2-2V5c0-1.11.89-2 2-2h1V1h2v2h8V1h2v2h1a2 2 0 0 1 2 2v6.1c1.24 1.26 2 2.99 2 4.9a7 7 0 0 1-7 7c-1.91 0-3.64-.76-4.9-2zm11-9.85A4.85 4.85 0 0 0 11.15 16c0 2.68 2.17 4.85 4.85 4.85A4.85 4.85 0 0 0 20.85 16c0-2.68-2.17-4.85-4.85-4.85"/></svg>
                          <time datetime="2025-03-30 00:00:00+00:00" class="md-ellipsis">2025-03-30</time>
                        </div>
                      </li>
                    
                    
                      <li class="md-nav__item">
                        <div class="md-nav__link">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 3v15h3V3zm3 2 4 13 3-1-4-13zM5 5v13h3V5zM3 19v2h18v-2z"/></svg>
                          <span class="md-ellipsis">
                            in
                            
                              <a href="../category/data-preparation/">Data preparation</a></span>
                        </div>
                      </li>
                    
                    
                  </ul>
                </nav>
              </li>
            </ul>
            
          </nav>
          
        </div>
      </div>
    </div>
    <article class="md-content__inner md-typeset">
      
        
  


  <nav class="md-tags" >
    
      
      
      
        <a href="../tools/#tag:hugging-face" class="md-tag">Hugging Face</a>
      
    
      
      
      
        <a href="../tools/#tag:polars" class="md-tag">Polars</a>
      
    
  </nav>



<h1 id="cleaning-uci-ml-drug-review-dataset">Cleaning UCI ML Drug Review Dataset<a class="headerlink" href="#cleaning-uci-ml-drug-review-dataset" title="Permanent link">&para;</a></h1>
<p>This is my <a href="https://pola.rs/"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.954 7.714h.434c.106 0 .193.087.193.197v3.726a.197.197 0 0 1-.193.193h-.434a.197.197 0 0 1-.197-.193V7.911c0-.11.087-.197.197-.197m1.213 1.085h.435c.105 0 .192.087.192.196v2.521a.197.197 0 0 1-.192.193h-.435a.197.197 0 0 1-.197-.193v-2.52c0-.114.087-.197.197-.197m1.206 1.383h.43c.11 0 .197.087.197.197v.718a.197.197 0 0 1-.197.192h-.43a.197.197 0 0 1-.197-.196v-.718a.19.19 0 0 1 .197-.19zm-3.629-2.827h.431a.197.197 0 0 1 .197.196v.719a.197.197 0 0 1-.197.189h-.435a.197.197 0 0 1-.196-.19v-.718a.197.197 0 0 1 .196-.196Zm0 1.444h.431a.197.197 0 0 1 .197.196v.658a.197.197 0 0 1-.197.193h-.435a.197.197 0 0 1-.196-.193v-.658a.197.197 0 0 1 .196-.196zm0 1.387h.431a.197.197 0 0 1 .197.193v1.08a.197.197 0 0 1-.197.193h-.435a.197.197 0 0 1-.196-.192v-1.081a.197.197 0 0 1 .196-.193zm-1.24-3.133h.435a.197.197 0 0 1 .193.196v1.138a.197.197 0 0 1-.193.196h-.434a.197.197 0 0 1-.197-.196V7.249a.197.197 0 0 1 .197-.196Zm0 1.927h.435a.197.197 0 0 1 .193.197v2.162a.197.197 0 0 1-.193.192h-.434a.197.197 0 0 1-.197-.192V9.177a.197.197 0 0 1 .197-.197ZM17.3 6.694h.435a.197.197 0 0 1 .196.192v4.574a.197.197 0 0 1-.196.192H17.3a.197.197 0 0 1-.197-.192V6.886a.197.197 0 0 1 .197-.192m0 10.174h.435a.197.197 0 0 1 .196.197v.718a.197.197 0 0 1-.196.192H17.3a.197.197 0 0 1-.197-.196v-.718a.197.197 0 0 1 .197-.19zm-1.24-.964h.435a.197.197 0 0 1 .196.197v1.678a.197.197 0 0 1-.196.196h-.431a.197.197 0 0 1-.193-.196V16.1a.197.197 0 0 1 .193-.197zm0-5.117h.435a.197.197 0 0 1 .196.196v1.134a.197.197 0 0 1-.196.2h-.431a.197.197 0 0 1-.193-.196v-1.138a.197.197 0 0 1 .193-.196zm0-4.396h.435a.197.197 0 0 1 .196.197v3.605a.197.197 0 0 1-.196.197h-.431a.197.197 0 0 1-.193-.197V6.588a.197.197 0 0 1 .193-.197zm-1.22.06h.434a.197.197 0 0 1 .197.197V8.75a.197.197 0 0 1-.197.192h-.435a.197.197 0 0 1-.192-.192V6.648a.197.197 0 0 1 .192-.196zm0 2.892h.434a.197.197 0 0 1 .197.193v6.138a.197.197 0 0 1-.197.196h-.435a.197.197 0 0 1-.192-.196V9.536a.197.197 0 0 1 .192-.193Zm0 6.924h.434a.197.197 0 0 1 .197.193v1.14a.197.197 0 0 1-.197.193h-.435a.197.197 0 0 1-.192-.193v-1.14a.197.197 0 0 1 .192-.193zm-1.21-9.638h.43a.197.197 0 0 1 .197.2v4.925a.197.197 0 0 1-.196.197h-.435a.197.197 0 0 1-.193-.197V6.83a.197.197 0 0 1 .193-.197Zm0 5.722h.43a.197.197 0 0 1 .197.197v3.908a.197.197 0 0 1-.196.197h-.435a.197.197 0 0 1-.193-.197v-3.908a.197.197 0 0 1 .193-.197Zm-1.217-5.9h.435a.197.197 0 0 1 .192.197v3.179a.197.197 0 0 1-.192.196h-.435a.197.197 0 0 1-.197-.196V6.652a.197.197 0 0 1 .197-.197zm0 3.977h.435a.197.197 0 0 1 .192.192v2.646a.197.197 0 0 1-.192.193h-.435a.197.197 0 0 1-.197-.193V10.62a.197.197 0 0 1 .197-.192m0 3.428h.435a.197.197 0 0 1 .192.196v1.198a.197.197 0 0 1-.192.197h-.435a.197.197 0 0 1-.197-.197v-1.198a.197.197 0 0 1 .197-.196m-1.22-7.522h.434a.197.197 0 0 1 .196.19v1.443a.197.197 0 0 1-.196.193h-.439a.197.197 0 0 1-.196-.193v-1.44a.197.197 0 0 1 .196-.196zm0 2.227h.434a.197.197 0 0 1 .196.192v5.534a.197.197 0 0 1-.196.196h-.439a.197.197 0 0 1-.196-.196V8.753a.197.197 0 0 1 .196-.192Zm-1.225 8.182h.434a.197.197 0 0 1 .197.197v.835a.197.197 0 0 1-.197.197h-.434a.197.197 0 0 1-.193-.197v-.835a.197.197 0 0 1 .193-.197m0-10.658h.434a.197.197 0 0 1 .197.197v5.113a.197.197 0 0 1-.197.193h-.434a.197.197 0 0 1-.193-.193v-5.11a.197.197 0 0 1 .193-.196Zm0 5.904h.434a.197.197 0 0 1 .197.192v2.102a.197.197 0 0 1-.197.196h-.434a.197.197 0 0 1-.193-.196V12.18a.197.197 0 0 1 .193-.192zm-1.221 3.855h.434a.197.197 0 0 1 .193.189v1.742a.197.197 0 0 1-.193.197h-.434a.197.197 0 0 1-.197-.197v-1.738a.197.197 0 0 1 .197-.197zm0-6.025h.434a.197.197 0 0 1 .193.197v4.27a.197.197 0 0 1-.193.193h-.434a.197.197 0 0 1-.197-.196v-4.267a.197.197 0 0 1 .197-.19Zm0-3.794h.434a.197.197 0 0 1 .193.196v3.005a.197.197 0 0 1-.193.196h-.434a.197.197 0 0 1-.197-.196V6.22a.197.197 0 0 1 .197-.196Zm-1.221.06h.435a.197.197 0 0 1 .196.197V7a.197.197 0 0 1-.196.192h-.435A.197.197 0 0 1 7.332 7v-.718a.197.197 0 0 1 .193-.197Zm0 1.448h.435a.197.197 0 0 1 .196.192v5.541a.197.197 0 0 1-.196.193h-.435a.197.197 0 0 1-.193-.193V7.73a.197.197 0 0 1 .193-.193Zm0 6.323h.435a.197.197 0 0 1 .196.193v1.5a.197.197 0 0 1-.196.197h-.435a.197.197 0 0 1-.193-.197v-1.5a.197.197 0 0 1 .193-.193m0 2.286h.435a.197.197 0 0 1 .196.197v.956a.197.197 0 0 1-.196.197h-.435a.197.197 0 0 1-.193-.197v-.956a.197.197 0 0 1 .193-.197M6.305 6.57h.434a.197.197 0 0 1 .193.196v3.606a.197.197 0 0 1-.193.193h-.435a.197.197 0 0 1-.196-.193V6.765a.197.197 0 0 1 .196-.196Zm0 4.395h.434a.197.197 0 0 1 .193.193v.84a.197.197 0 0 1-.193.196h-.435a.197.197 0 0 1-.196-.197v-.839a.197.197 0 0 1 .196-.193Zm0 1.505h.43a.197.197 0 0 1 .197.196v3.727a.197.197 0 0 1-.197.196h-.43a.197.197 0 0 1-.197-.196v-3.727a.197.197 0 0 1 .196-.196ZM5.018 9.577h.56a.136.136 0 0 1 .132.136v2.763a.136.136 0 0 1-.132.136h-.556a.136.136 0 0 1-.136-.136V9.717a.136.136 0 0 1 .136-.14zm0 3.432h.56a.136.136 0 0 1 .132.136v2.483a.136.136 0 0 1-.132.136h-.556a.136.136 0 0 1-.136-.136v-2.475a.136.136 0 0 1 .136-.136zm0-5.96h.56a.136.136 0 0 1 .132.136v1.92a.136.136 0 0 1-.132.136h-.556a.136.136 0 0 1-.136-.136v-1.92a.136.136 0 0 1 .136-.136Zm-1.217.597h.552a.136.136 0 0 1 .136.132v2.884a.136.136 0 0 1-.136.132h-.552a.136.136 0 0 1-.136-.132V7.778a.136.136 0 0 1 .136-.132m0 3.5h.552a.136.136 0 0 1 .136.136v3.904a.136.136 0 0 1-.136.136h-.556a.136.136 0 0 1-.132-.136v-3.9a.136.136 0 0 1 .132-.136Zm-1.168 5.722h.435a.197.197 0 0 1 .197.197v.718a.197.197 0 0 1-.197.192h-.43a.197.197 0 0 1-.194-.196v-.718a.197.197 0 0 1 .193-.19zm-.06-2.562h.563a.136.136 0 0 1 .136.136v1.262a.136.136 0 0 1-.136.136h-.56a.136.136 0 0 1-.132-.136v-1.262a.136.136 0 0 1 .133-.136zm0-4.725h.563a.136.136 0 0 1 .136.132v4.075a.136.136 0 0 1-.136.136h-.56a.136.136 0 0 1-.132-.136V9.713a.136.136 0 0 1 .133-.132Zm-1.213 5.95h.555a.136.136 0 0 1 .136.135v2.173a.136.136 0 0 1-.136.136h-.56a.136.136 0 0 1-.135-.136v-2.173a.136.136 0 0 1 .136-.136zm.06-3.225h.431a.197.197 0 0 1 .197.193v2.506a.197.197 0 0 1-.197.196h-.435a.197.197 0 0 1-.196-.196v-2.506a.197.197 0 0 1 .196-.193ZM.14 15.001h.552c.075 0 .136.06.136.136v2.052c0 .076-.06.136-.136.136H.136A.136.136 0 0 1 0 17.19v-2.052c0-.076.06-.136.136-.136z"/></svg></span> Polars</a>-centric adaptation of the tutorial
<a href="https://huggingface.co/learn/nlp-course/chapter5/3"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.025 1.13c-5.77 0-10.449 4.647-10.449 10.378 0 1.112.178 2.181.503 3.185.064-.222.203-.444.416-.577a.96.96 0 0 1 .524-.15c.293 0 .584.124.84.284.278.173.48.408.71.694.226.282.458.611.684.951v-.014c.017-.324.106-.622.264-.874s.403-.487.762-.543c.3-.047.596.06.787.203s.31.313.4.467c.15.257.212.468.233.542.01.026.653 1.552 1.657 2.54.616.605 1.01 1.223 1.082 1.912.055.537-.096 1.059-.38 1.572.637.121 1.294.187 1.967.187.657 0 1.298-.063 1.921-.178-.287-.517-.44-1.041-.384-1.581.07-.69.465-1.307 1.081-1.913 1.004-.987 1.647-2.513 1.657-2.539.021-.074.083-.285.233-.542.09-.154.208-.323.4-.467a1.08 1.08 0 0 1 .787-.203c.359.056.604.29.762.543s.247.55.265.874v.015c.225-.34.457-.67.683-.952.23-.286.432-.52.71-.694.257-.16.547-.284.84-.285a.97.97 0 0 1 .524.151c.228.143.373.388.43.625l.006.04a10.3 10.3 0 0 0 .534-3.273c0-5.731-4.678-10.378-10.449-10.378M8.327 6.583a1.5 1.5 0 0 1 .713.174 1.487 1.487 0 0 1 .617 2.013c-.183.343-.762-.214-1.102-.094-.38.134-.532.914-.917.71a1.487 1.487 0 0 1 .69-2.803m7.486 0a1.487 1.487 0 0 1 .689 2.803c-.385.204-.536-.576-.916-.71-.34-.12-.92.437-1.103.094a1.487 1.487 0 0 1 .617-2.013 1.5 1.5 0 0 1 .713-.174m-10.68 1.55a.96.96 0 1 1 0 1.921.96.96 0 0 1 0-1.92m13.838 0a.96.96 0 1 1 0 1.92.96.96 0 0 1 0-1.92M8.489 11.458c.588.01 1.965 1.157 3.572 1.164 1.607-.007 2.984-1.155 3.572-1.164.196-.003.305.12.305.454 0 .886-.424 2.328-1.563 3.202-.22-.756-1.396-1.366-1.63-1.32q-.011.001-.02.006l-.044.026-.01.008-.03.024q-.018.017-.035.036l-.032.04a1 1 0 0 0-.058.09l-.014.025q-.049.088-.11.19a1 1 0 0 1-.083.116 1.2 1.2 0 0 1-.173.18q-.035.029-.075.058a1.3 1.3 0 0 1-.251-.243 1 1 0 0 1-.076-.107c-.124-.193-.177-.363-.337-.444-.034-.016-.104-.008-.2.022q-.094.03-.216.087-.06.028-.125.063l-.13.074q-.067.04-.136.086a3 3 0 0 0-.135.096 3 3 0 0 0-.26.219 2 2 0 0 0-.12.121 2 2 0 0 0-.106.128l-.002.002a2 2 0 0 0-.09.132l-.001.001a1.2 1.2 0 0 0-.105.212q-.013.036-.024.073c-1.139-.875-1.563-2.317-1.563-3.203 0-.334.109-.457.305-.454m.836 10.354c.824-1.19.766-2.082-.365-3.194-1.13-1.112-1.789-2.738-1.789-2.738s-.246-.945-.806-.858-.97 1.499.202 2.362c1.173.864-.233 1.45-.685.64-.45-.812-1.683-2.896-2.322-3.295s-1.089-.175-.938.647 2.822 2.813 2.562 3.244-1.176-.506-1.176-.506-2.866-2.567-3.49-1.898.473 1.23 2.037 2.16c1.564.932 1.686 1.178 1.464 1.53s-3.675-2.511-4-1.297c-.323 1.214 3.524 1.567 3.287 2.405-.238.839-2.71-1.587-3.216-.642-.506.946 3.49 2.056 3.522 2.064 1.29.33 4.568 1.028 5.713-.624m5.349 0c-.824-1.19-.766-2.082.365-3.194 1.13-1.112 1.789-2.738 1.789-2.738s.246-.945.806-.858.97 1.499-.202 2.362c-1.173.864.233 1.45.685.64.451-.812 1.683-2.896 2.322-3.295s1.089-.175.938.647-2.822 2.813-2.562 3.244 1.176-.506 1.176-.506 2.866-2.567 3.49-1.898-.473 1.23-2.037 2.16c-1.564.932-1.686 1.178-1.464 1.53s3.675-2.511 4-1.297c.323 1.214-3.524 1.567-3.287 2.405.238.839 2.71-1.587 3.216-.642.506.946-3.49 2.056-3.522 2.064-1.29.33-4.568 1.028-5.713-.624"/></svg></span> Hugging Face NLP Course: Time to slice and dice</a>,
which cleans the UCI ML Drug Review dataset available on
<a href="https://www.kaggle.com/datasets/jessicali9530/kuc-hackathon-winter-2018"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M304.2 501.5 158.4 320.3 298.2 185c2.6-2.7 1.7-10.5-5.3-10.5h-69.2c-3.5 0-7 1.8-10.5 5.3L80.9 313.5V7.5q0-7.5-7.5-7.5H21.5Q14 0 14 7.5v497q0 7.5 7.5 7.5h51.9q7.5 0 7.5-7.5v-109l30.8-29.3 110.5 140.6c3 3.5 6.5 5.3 10.5 5.3h66.9q5.25 0 6-3z"/></svg></span> Kaggle</a>.</p>
<p>Cleaned dataset on Hugging Face Hub: <a href="https://huggingface.co/datasets/dd-n-kk/uci-drug-review-cleaned"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 3C7.58 3 4 4.79 4 7s3.58 4 8 4 8-1.79 8-4-3.58-4-8-4M4 9v3c0 2.21 3.58 4 8 4s8-1.79 8-4V9c0 2.21-3.58 4-8 4s-8-1.79-8-4m0 5v3c0 2.21 3.58 4 8 4s8-1.79 8-4v-3c0 2.21-3.58 4-8 4s-8-1.79-8-4"/></svg></span> dd-n-kk/uci-drug-review-cleaned</a></p>
<p><a href="https://colab.research.google.com/github/dd-n-kk/notebooks/blob/main/blog/clean-uci-drug-review-dataset.ipynb" target="_parent">
    <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.941 4.976a7.03 7.03 0 0 0-4.93 2.064 7.033 7.033 0 0 0-.124 9.807l2.395-2.395a3.646 3.646 0 0 1 5.15-5.148l2.397-2.399a7.03 7.03 0 0 0-4.888-1.93m-9.871.01a7.03 7.03 0 0 0-4.888 1.931l2.391 2.391a3.643 3.643 0 0 1 5.023.127l1.734-2.973-.1-.08a7.03 7.03 0 0 0-4.16-1.396m15.01 2.172-2.39 2.39a3.646 3.646 0 0 1-5.15 5.15l-2.406 2.407a7.036 7.036 0 0 0 9.945-9.947m-20.148.01a7.033 7.033 0 0 0-.002 9.681l2.397-2.397a3.643 3.643 0 0 1-.004-4.892zm7.664 7.423a3.635 3.635 0 0 1-5.017.113L2.182 17.1a7.03 7.03 0 0 0 9.007.546l.137-.112z"/></svg></span> Colab notebook
</a></p>
<!-- more -->

<h2 id="preparations">Preparations<a class="headerlink" href="#preparations" title="Permanent link">&para;</a></h2>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1"># Set this to an empty string to avoid saving the dataset file.</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="n">DATA_DIR</span> <span class="o">=</span> <span class="s2">&quot;uci-drug-review-cleaned/&quot;</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># Set these to empty strings to avoid uploading the dataset.</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">REPO_ID</span> <span class="o">=</span> <span class="s2">&quot;dd-n-kk/uci-drug-review-cleaned&quot;</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="n">SECRET</span> <span class="o">=</span> <span class="s2">&quot;HF_TOKEN&quot;</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="err">!</span><span class="n">uv</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">system</span> <span class="o">-</span><span class="n">Uq</span> <span class="n">polars</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">kagglehub</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">polars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">polars</span><span class="w"> </span><span class="kn">import</span> <span class="n">col</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">path</span> <span class="o">=</span> <span class="n">kagglehub</span><span class="o">.</span><span class="n">dataset_download</span><span class="p">(</span><span class="s2">&quot;jessicali9530/kuc-hackathon-winter-2018&quot;</span><span class="p">)</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="err">!</span><span class="n">mkdir</span> <span class="n">data</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="n">cp</span> <span class="o">-</span><span class="n">t</span> <span class="n">data</span><span class="o">/</span> <span class="p">{</span><span class="n">path</span><span class="p">}</span><span class="o">/*</span> <span class="o">&amp;&amp;</span> <span class="n">ls</span> <span class="o">-</span><span class="n">hAil</span> <span class="n">data</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>Downloading from https://www.kaggle.com/api/v1/datasets/download/jessicali9530/kuc-hackathon-winter-2018?dataset_version_number=2...


100%|██████████| 40.7M/40.7M [00:00&lt;00:00, 44.6MB/s]

Extracting files...





total 106M
2364654 -rw-r--r-- 1 root root 27M Mar 22 13:17 drugsComTest_raw.csv
2364655 -rw-r--r-- 1 root root 80M Mar 22 13:17 drugsComTrain_raw.csv
</code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">SEED</span> <span class="o">=</span> <span class="mi">777</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="n">pl</span><span class="o">.</span><span class="n">set_random_seed</span><span class="p">(</span><span class="n">SEED</span><span class="p">)</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="c1"># Configure Polars for more complete display.</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="n">_</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">Config</span><span class="p">(</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>    <span class="n">tbl_cols</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    <span class="n">tbl_rows</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>    <span class="n">tbl_width_chars</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>    <span class="n">float_precision</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>    <span class="n">fmt_str_lengths</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>    <span class="n">fmt_table_cell_list_len</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">df</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/drugsComTrain_raw.csv&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h2 id="observations">Observations<a class="headerlink" href="#observations" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><code>drugName</code>:</p>
<ul>
<li>Capitalization is inconsistent ("A + D Cracked Skin Relief" vs. "femhrt").</li>
<li>There are combination prescriptions ("Ethinyl estradiol / norgestimate").</li>
</ul>
</li>
<li>
<p><code>condition</code>:</p>
<ul>
<li>There are 899 nulls.</li>
<li>There are corrupted values:<ul>
<li>"0<code>&lt;/span&gt;</code> users found this comment helpful."</li>
<li>"zen Shoulde" should probably be "Frozen Shoulder".</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>review</code>:</p>
<ul>
<li>There are HTML entities (<code>&amp;#039;</code>).</li>
<li>There are emojis (❤️❤️❤️).</li>
</ul>
</li>
<li>
<p><code>date</code>:</p>
<ul>
<li>The format could be simplified ("1-Apr-08").</li>
</ul>
</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</span></code></pre></div>
<div><style>
.dataframe > thead > tr,
.dataframe > tbody > tr {
  text-align: right;
  white-space: pre-wrap;
}
</style>
<small>shape: (9, 8)</small><table border="1" class="dataframe"><thead><tr><th>statistic</th><th>uniqueID</th><th>drugName</th><th>condition</th><th>review</th><th>rating</th><th>date</th><th>usefulCount</th></tr><tr><td>str</td><td>f64</td><td>str</td><td>str</td><td>str</td><td>f64</td><td>str</td><td>f64</td></tr></thead><tbody><tr><td>&quot;count&quot;</td><td>161297.000</td><td>&quot;161297&quot;</td><td>&quot;160398&quot;</td><td>&quot;161297&quot;</td><td>161297.000</td><td>&quot;161297&quot;</td><td>161297.000</td></tr><tr><td>&quot;null_count&quot;</td><td>0.000</td><td>&quot;0&quot;</td><td>&quot;899&quot;</td><td>&quot;0&quot;</td><td>0.000</td><td>&quot;0&quot;</td><td>0.000</td></tr><tr><td>&quot;mean&quot;</td><td>115923.585</td><td>null</td><td>null</td><td>null</td><td>6.994</td><td>null</td><td>28.005</td></tr><tr><td>&quot;std&quot;</td><td>67004.445</td><td>null</td><td>null</td><td>null</td><td>3.272</td><td>null</td><td>36.404</td></tr><tr><td>&quot;min&quot;</td><td>2.000</td><td>&quot;A + D Cracked Skin Relief&quot;</td><td>&quot;0&lt;/span&gt; users found this comment helpful.&quot;</td><td>&quot;&quot;

 please tell the ones who is suffering from anxiety to use lavender chamomile spray by air wick.&nbsp;&nbsp;it gives immediate relief , doctors not letting know patients about this. please spread the word!!.&nbsp;&nbsp;Please keep this post here.&quot;&quot;</td><td>1.000</td><td>&quot;1-Apr-08&quot;</td><td>0.000</td></tr><tr><td>&quot;25%&quot;</td><td>58063.000</td><td>null</td><td>null</td><td>null</td><td>5.000</td><td>null</td><td>6.000</td></tr><tr><td>&quot;50%&quot;</td><td>115744.000</td><td>null</td><td>null</td><td>null</td><td>8.000</td><td>null</td><td>16.000</td></tr><tr><td>&quot;75%&quot;</td><td>173776.000</td><td>null</td><td>null</td><td>null</td><td>10.000</td><td>null</td><td>36.000</td></tr><tr><td>&quot;max&quot;</td><td>232291.000</td><td>&quot;femhrt&quot;</td><td>&quot;zen Shoulde&quot;</td><td>&quot;&quot;❤️❤️❤️ Cialis for US!!&nbsp;&nbsp;&nbsp;&nbsp;I wish I had my husband start this decades ago &quot;&quot;</td><td>10.000</td><td>&quot;9-Sep-17&quot;</td><td>1291.000</td></tr></tbody></table></div>

<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="n">SEED</span><span class="p">)</span>
</span></code></pre></div>
<div><style>
.dataframe > thead > tr,
.dataframe > tbody > tr {
  text-align: right;
  white-space: pre-wrap;
}
</style>
<small>shape: (10, 7)</small><table border="1" class="dataframe"><thead><tr><th>uniqueID</th><th>drugName</th><th>condition</th><th>review</th><th>rating</th><th>date</th><th>usefulCount</th></tr><tr><td>i64</td><td>str</td><td>str</td><td>str</td><td>i64</td><td>str</td><td>i64</td></tr></thead><tbody><tr><td>63419</td><td>&quot;Epiduo&quot;</td><td>&quot;Acne&quot;</td><td>&quot;&quot;I have been using epiduo for almost a week now and it has been burning a little bit, so i cut back on how much i put on my face and it feels much better. I did not have alot of acne at all before using it but only a few on my cheeks and those are all gone now after a few days of use. The few bumps on ny forehead are still there but im positive the epiduo is fighting to get rid of it. I will give it a couple of weeks :). (avoid using in eye area, and area right AROUND nose... those are sensitive…</td><td>8</td><td>&quot;27-Jun-16&quot;</td><td>4</td></tr><tr><td>152744</td><td>&quot;Doxycycline&quot;</td><td>&quot;Bacterial Infection&quot;</td><td>&quot;&quot;Have been taking this med now for the past 8 days, for an acute sinusitis infection, and paid strict attention to the pharmacists instructions..... YOU MUST DRINK A FULL GLASS OF WATER after you&amp;#039;ve taken it.&nbsp;&nbsp;Don&amp;#039;t disregard these rules, or you will have severe side effects.&nbsp;&nbsp;&nbsp;Otherwise I&amp;#039;m hoping this time, doxy will clear it up as I was on amoxy and that didn&amp;#039;t. This infection keeps repeating because of two bouts of pneumonia, and I&amp;#039;m sure residual infection wasn&amp;#039…</td><td>8</td><td>&quot;3-Nov-17&quot;</td><td>2</td></tr><tr><td>126485</td><td>&quot;Brimonidine&quot;</td><td>&quot;Rosacea&quot;</td><td>&quot;&quot;Stay away from this medication. The 1st day used, I was impressed, but 2 days later I had a rebound and my face was burning like hell. I waited like 4 days to re-apply and see what happens, but I lost sensation on my lips and they got swollen. Then, after 24 hours the rebound got worse and was like two weeks after my skin stopped burning. I still don&amp;#039;t understand how this product was approved by the FDA.&quot;&quot;</td><td>1</td><td>&quot;27-Jun-16&quot;</td><td>21</td></tr><tr><td>208405</td><td>&quot;Oseltamivir&quot;</td><td>&quot;Influenza&quot;</td><td>&quot;&quot;Sick sick with flu, tamiflu added to illness, nausea &amp;amp; vomiting, don&amp;#039;t know if made flu last shorter, made me too nauseous to know, just ride out the virus, plan on being sick for a week, don&amp;#039;t burden your body with meds that may make you sick&quot;&quot;</td><td>2</td><td>&quot;25-Dec-15&quot;</td><td>17</td></tr><tr><td>166105</td><td>&quot;Levonorgestrel&quot;</td><td>null</td><td>&quot;&quot;Well I&amp;#039;m the first one reviewing this... I got my Kyleena IUD placed on Dec. 2nd 2016. It was painful but no more so than other IUDs I&amp;#039;ve read about. The issues I&amp;#039;m having is contant spotting. I&amp;#039;ve been bleeding lightly (where I have to wear a light pad so I don&amp;#039;t ruin my underwear every day) for two months now. The office told me about a month ago that my spotting is normal and most likely means once I stop spotting I&amp;#039;ll be done with my period for the five years K…</td><td>5</td><td>&quot;30-Jan-17&quot;</td><td>17</td></tr><tr><td>16075</td><td>&quot;Ethinyl estradiol / norethindrone&quot;</td><td>&quot;Birth Control&quot;</td><td>&quot;&quot;I&amp;#039;m 14 years old and I&amp;#039;ve been on it for 4 months and I hate it. I&amp;#039;m on it for regular periods since my blood flows too quickly and it has done nothing. I&amp;#039;ve been on my period for 4 months, light mostly but heavy sometimes. I also went on it for my acne but it did nothing. I gained 4 pounds and now I have stubborn belly fat. I also have huge stretch marks (idk if its related but they showed up when I took it). Also, I have no motivation anymore. Don&amp;#039;t take this please!&quot;&quot;</td><td>3</td><td>&quot;27-May-16&quot;</td><td>4</td></tr><tr><td>223196</td><td>&quot;Estradiol&quot;</td><td>&quot;Postmenopausal Symptoms&quot;</td><td>&quot;&quot;I have had a great experience with the Minivelle patch.&nbsp;&nbsp;I was suffering with many, many, hot flashes a day and night sweats that left me drenched!&nbsp;&nbsp;I am down to a handful of flashes a day and the night sweats are gone!&quot;&quot;</td><td>10</td><td>&quot;15-Jul-13&quot;</td><td>41</td></tr><tr><td>102766</td><td>&quot;Aripiprazole&quot;</td><td>&quot;Major Depressive Disorde&quot;</td><td>&quot;&quot;Weight gain and fatigue.&quot;&quot;</td><td>3</td><td>&quot;29-Jul-14&quot;</td><td>15</td></tr><tr><td>85534</td><td>&quot;Ethinyl estradiol / norgestimate&quot;</td><td>&quot;Birth Control&quot;</td><td>&quot;&quot;This Is An Amazing Birth Control. I&amp;#039;ve Been On This For Five Years And Counting. I Never Got Pregnant, My Menstrual Last About 3-4 Days(Regular Period ) ,No Cramps, Face Is Clear Of Acne, From Time To Time Ive Gotten Moody But Overall I Love It!&nbsp;&nbsp;I&amp;#039;m Looking Forward To Getting Off And Starting A Family.&quot;&quot;</td><td>9</td><td>&quot;17-Feb-15&quot;</td><td>24</td></tr><tr><td>131566</td><td>&quot;Methyl salicylate&quot;</td><td>&quot;Muscle Pain&quot;</td><td>&quot;&quot;The adhesive used for these particular patches works a lot better than the other comparable products on the market by far. As long as you get them on straight and unwrinkled the first time, they will stay on for virtually as long as they last, which also happens to exceed comparable products by far. Couple this with the much less expensive price and you have three reasons why this is simply a superior product to the others. 

It should be noted that the one time I almost bought another name b…</td><td>7</td><td>&quot;7-Jun-10&quot;</td><td>36</td></tr></tbody></table></div>

<h2 id="verifying-uniqueness-of-uniqueid">Verifying uniqueness of <code>uniqueID</code><a class="headerlink" href="#verifying-uniqueness-of-uniqueid" title="Permanent link">&para;</a></h2>
<p>Unlike the version used in the Hugging Face tutorial,
the Kaggle-hosted dataset does have a name for the first column.
So here we just verify that each row indeed has a unique ID.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">assert</span> <span class="n">df</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s2">&quot;uniqueID&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">n_unique</span><span class="p">()</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</span></code></pre></div>
<h2 id="scanning-for-invalid-drugnames">Scanning for invalid <code>drugName</code>s<a class="headerlink" href="#scanning-for-invalid-drugnames" title="Permanent link">&para;</a></h2>
<p>We scan for invalid drug names by looking for unusual characters.
Fortunately most if not all drug names seem to be valid.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="p">(</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>    <span class="n">df</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;drugName&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[^[:alnum:] &#39;(),./-]&quot;</span><span class="p">))</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>    <span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s2">&quot;drugName&quot;</span><span class="p">)</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>    <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>    <span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="n">descending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="p">)</span>
</span></code></pre></div>
<div><style>
.dataframe > thead > tr,
.dataframe > tbody > tr {
  text-align: right;
  white-space: pre-wrap;
}
</style>
<small>shape: (17, 2)</small><table border="1" class="dataframe"><thead><tr><th>drugName</th><th>count</th></tr><tr><td>str</td><td>u32</td></tr></thead><tbody><tr><td>&quot;Tylenol with Codeine #3&quot;</td><td>65</td></tr><tr><td>&quot;Coricidin HBP Cold &amp; Flu&quot;</td><td>5</td></tr><tr><td>&quot;Tylenol with Codeine #4&quot;</td><td>4</td></tr><tr><td>&quot;Mucinex Fast-Max Severe Congestion &amp; Cough&quot;</td><td>2</td></tr><tr><td>&quot;Dimetapp Children&#x27;s Cold &amp; Cough&quot;</td><td>2</td></tr><tr><td>&quot;Aleve-D Sinus &amp; Cold&quot;</td><td>1</td></tr><tr><td>&quot;Coricidin HBP Cough &amp; Cold&quot;</td><td>1</td></tr><tr><td>&quot;Sudafed PE Pressure + Pain&quot;</td><td>1</td></tr><tr><td>&quot;A + D Cracked Skin Relief&quot;</td><td>1</td></tr><tr><td>&quot;Norinyl 1+35&quot;</td><td>1</td></tr><tr><td>&quot;PanOxyl 10% Acne Foaming Wash&quot;</td><td>1</td></tr><tr><td>&quot;Hair, Skin &amp; Nails&quot;</td><td>1</td></tr><tr><td>&quot;Vicks Dayquil Cold &amp; Flu Relief&quot;</td><td>1</td></tr><tr><td>&quot;Robitussin Cough + Chest Congestion DM&quot;</td><td>1</td></tr><tr><td>&quot;Excedrin Back &amp; Body&quot;</td><td>1</td></tr><tr><td>&quot;Mucinex Fast-Max Night Time Cold &amp; Flu&quot;</td><td>1</td></tr><tr><td>&quot;Vitafol-OB+DHA&quot;</td><td>1</td></tr></tbody></table></div>

<h2 id="handling-capitalization-of-drugnames">Handling capitalization of <code>drugName</code>s<a class="headerlink" href="#handling-capitalization-of-drugnames" title="Permanent link">&para;</a></h2>
<p>There are very few lowercase drug names and all of them are valid.
We can also confirm that no drug name is cased differently in the dataset.
To preserve the original data as much as possible,
I title-case the lowercase names instead of lowercasing all drug names.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="p">(</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>    <span class="n">df</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;drugName&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^[^A-Z]&quot;</span><span class="p">))</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>    <span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s2">&quot;drugName&quot;</span><span class="p">)</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>    <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>    <span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="n">descending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="p">)</span>
</span></code></pre></div>
<div><style>
.dataframe > thead > tr,
.dataframe > tbody > tr {
  text-align: right;
  white-space: pre-wrap;
}
</style>
<small>shape: (3, 2)</small><table border="1" class="dataframe"><thead><tr><th>drugName</th><th>count</th></tr><tr><td>str</td><td>u32</td></tr></thead><tbody><tr><td>&quot;ella&quot;</td><td>51</td></tr><tr><td>&quot;femhrt&quot;</td><td>3</td></tr><tr><td>&quot;depo-subQ provera 104&quot;</td><td>1</td></tr></tbody></table></div>

<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="k">assert</span> <span class="p">(</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>    <span class="n">df</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s2">&quot;drugName&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">n_unique</span><span class="p">()</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>    <span class="o">==</span> <span class="n">df</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s2">&quot;drugName&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">to_lowercase</span><span class="p">()</span><span class="o">.</span><span class="n">n_unique</span><span class="p">()</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="n">replacements</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>    <span class="s2">&quot;ella&quot;</span><span class="p">:</span> <span class="s2">&quot;Ella&quot;</span><span class="p">,</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>    <span class="s2">&quot;femhrt&quot;</span><span class="p">:</span> <span class="s2">&quot;Femhrt&quot;</span><span class="p">,</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>    <span class="s2">&quot;depo-subQ provera 104&quot;</span><span class="p">:</span> <span class="s2">&quot;Depo-SubQ Provera 104&quot;</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="p">}</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;drugName&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">replacements</span><span class="p">))</span>
</span></code></pre></div>
<h2 id="cleaning-invalid-conditions">Cleaning invalid <code>condition</code>s<a class="headerlink" href="#cleaning-invalid-conditions" title="Permanent link">&para;</a></h2>
<p>The search for unusual characters yields a group of rows with invalid <code>condition</code>s:
"??<code>&lt;/span&gt;</code> users found this comment helpful." I decide to replace them with nulls.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">q</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;condition&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[^[:alnum:] &#39;(),./-]&quot;</span><span class="p">));</span> <span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>900
</code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="n">q</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="s2">&quot;review&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="n">SEED</span><span class="p">)</span>
</span></code></pre></div>
<div><style>
.dataframe > thead > tr,
.dataframe > tbody > tr {
  text-align: right;
  white-space: pre-wrap;
}
</style>
<small>shape: (10, 6)</small><table border="1" class="dataframe"><thead><tr><th>uniqueID</th><th>drugName</th><th>condition</th><th>rating</th><th>date</th><th>usefulCount</th></tr><tr><td>i64</td><td>str</td><td>str</td><td>i64</td><td>str</td><td>i64</td></tr></thead><tbody><tr><td>81207</td><td>&quot;Yaz&quot;</td><td>&quot;0&lt;/span&gt; users found this comment helpful.&quot;</td><td>1</td><td>&quot;11-Feb-17&quot;</td><td>0</td></tr><tr><td>126293</td><td>&quot;Viibryd&quot;</td><td>&quot;15&lt;/span&gt; users found this comment helpful.&quot;</td><td>5</td><td>&quot;14-Oct-11&quot;</td><td>15</td></tr><tr><td>24826</td><td>&quot;Deplin&quot;</td><td>&quot;13&lt;/span&gt; users found this comment helpful.&quot;</td><td>6</td><td>&quot;9-Aug-16&quot;</td><td>13</td></tr><tr><td>67383</td><td>&quot;Provera&quot;</td><td>&quot;4&lt;/span&gt; users found this comment helpful.&quot;</td><td>1</td><td>&quot;27-Mar-16&quot;</td><td>4</td></tr><tr><td>212726</td><td>&quot;Phenergan&quot;</td><td>&quot;3&lt;/span&gt; users found this comment helpful.&quot;</td><td>10</td><td>&quot;3-Jan-09&quot;</td><td>3</td></tr><tr><td>220738</td><td>&quot;Loestrin 24 Fe&quot;</td><td>&quot;9&lt;/span&gt; users found this comment helpful.&quot;</td><td>5</td><td>&quot;13-Aug-10&quot;</td><td>9</td></tr><tr><td>33084</td><td>&quot;Seasonique&quot;</td><td>&quot;2&lt;/span&gt; users found this comment helpful.&quot;</td><td>8</td><td>&quot;29-Jun-10&quot;</td><td>2</td></tr><tr><td>159396</td><td>&quot;Estrace Vaginal Cream&quot;</td><td>&quot;64&lt;/span&gt; users found this comment helpful.&quot;</td><td>8</td><td>&quot;14-Sep-11&quot;</td><td>64</td></tr><tr><td>209258</td><td>&quot;Geodon&quot;</td><td>&quot;5&lt;/span&gt; users found this comment helpful.&quot;</td><td>6</td><td>&quot;18-Feb-09&quot;</td><td>5</td></tr><tr><td>71470</td><td>&quot;Levora&quot;</td><td>&quot;2&lt;/span&gt; users found this comment helpful.&quot;</td><td>3</td><td>&quot;15-Sep-11&quot;</td><td>2</td></tr></tbody></table></div>

<div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>    <span class="n">pl</span><span class="o">.</span><span class="n">when</span><span class="p">(</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;condition&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;&lt;/span&gt;&quot;</span><span class="p">,</span> <span class="n">literal</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>    <span class="o">.</span><span class="n">then</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">lit</span><span class="p">(</span><span class="kc">None</span><span class="p">))</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>    <span class="o">.</span><span class="n">otherwise</span><span class="p">(</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;condition&quot;</span><span class="p">))</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>    <span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="s2">&quot;condition&quot;</span><span class="p">)</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="p">)</span>
</span></code></pre></div>
<h2 id="correcting-corrupted-conditions">Correcting corrupted <code>condition</code>s<a class="headerlink" href="#correcting-corrupted-conditions" title="Permanent link">&para;</a></h2>
<p>The search for lowercase condition names leads to a few unexpected findings:</p>
<ul>
<li>Some <code>condition</code> fields mistakenly record drug names instead of condition names.</li>
<li>Quite a few condition names lost their prefixes, suffixes, or both.
  Indeed, seemingly all leading <code>F</code>s and terminating <code>r</code>s were cut off.</li>
</ul>
<p>I decide to handle the corrupted entries one by one:
Correct those I can recognize and nullify those I cannot.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="p">(</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>    <span class="n">df</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;condition&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^[^A-Z]&quot;</span><span class="p">))</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>    <span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s2">&quot;condition&quot;</span><span class="p">)</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>    <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>    <span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="n">descending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="p">)</span>
</span></code></pre></div>
<div><style>
.dataframe > thead > tr,
.dataframe > tbody > tr {
  text-align: right;
  white-space: pre-wrap;
}
</style>
<small>shape: (37, 2)</small><table border="1" class="dataframe"><thead><tr><th>condition</th><th>count</th></tr><tr><td>str</td><td>u32</td></tr></thead><tbody><tr><td>&quot;ibromyalgia&quot;</td><td>1791</td></tr><tr><td>&quot;mance Anxiety&quot;</td><td>187</td></tr><tr><td>&quot;moterol)&quot;</td><td>79</td></tr><tr><td>&quot;emale Infertility&quot;</td><td>65</td></tr><tr><td>&quot;atigue&quot;</td><td>53</td></tr><tr><td>&quot;min)&quot;</td><td>45</td></tr><tr><td>&quot;ge (amlodipine / valsartan)&quot;</td><td>33</td></tr><tr><td>&quot;acial Wrinkles&quot;</td><td>32</td></tr><tr><td>&quot;moterol / mometasone)&quot;</td><td>29</td></tr><tr><td>&quot;min / sitagliptin)&quot;</td><td>26</td></tr><tr><td>&quot;zen Shoulde&quot;</td><td>14</td></tr><tr><td>&quot;eve&quot;</td><td>12</td></tr><tr><td>&quot;mulation) (phenylephrine)&quot;</td><td>12</td></tr><tr><td>&quot;min / saxagliptin)&quot;</td><td>10</td></tr><tr><td>&quot;lic Acid Deficiency&quot;</td><td>8</td></tr><tr><td>&quot;von Willebrand&#x27;s Disease&quot;</td><td>7</td></tr><tr><td>&quot;amilial Mediterranean Feve&quot;</td><td>6</td></tr><tr><td>&quot;min / pioglitazone)&quot;</td><td>5</td></tr><tr><td>&quot;mis&quot;</td><td>5</td></tr><tr><td>&quot;ge HCT (amlodipine / hydrochlorothiazide / valsartan)&quot;</td><td>4</td></tr><tr><td>&quot;cal Segmental Glomerulosclerosis&quot;</td><td>4</td></tr><tr><td>&quot;ailure to Thrive&quot;</td><td>3</td></tr><tr><td>&quot;amilial Cold Autoinflammatory Syndrome&quot;</td><td>3</td></tr><tr><td>&quot;actor IX Deficiency&quot;</td><td>3</td></tr><tr><td>&quot;t Pac with Cyclobenzaprine (cyclobenzaprine)&quot;</td><td>2</td></tr><tr><td>&quot;t Care&quot;</td><td>2</td></tr><tr><td>&quot;min / rosiglitazone)&quot;</td><td>2</td></tr><tr><td>&quot;tic (mycophenolic acid)&quot;</td><td>2</td></tr><tr><td>&quot;llicular Lymphoma&quot;</td><td>1</td></tr><tr><td>&quot;ungal Pneumonia&quot;</td><td>1</td></tr><tr><td>&quot;mist (&quot;</td><td>1</td></tr><tr><td>&quot;m Pain Disorde&quot;</td><td>1</td></tr><tr><td>&quot;me&quot;</td><td>1</td></tr><tr><td>&quot;unctional Gastric Disorde&quot;</td><td>1</td></tr><tr><td>&quot;acial Lipoatrophy&quot;</td><td>1</td></tr><tr><td>&quot;ibrocystic Breast Disease&quot;</td><td>1</td></tr><tr><td>&quot;ungal Infection Prophylaxis&quot;</td><td>1</td></tr></tbody></table></div>

<div class="language-python highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="n">replacements</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>    <span class="s2">&quot;ibromyalgia&quot;</span><span class="p">:</span> <span class="s2">&quot;Fibromyalgia&quot;</span><span class="p">,</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>    <span class="s2">&quot;mance Anxiety&quot;</span><span class="p">:</span> <span class="s2">&quot;Performance Anxiety&quot;</span><span class="p">,</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>    <span class="s2">&quot;emale Infertility&quot;</span><span class="p">:</span> <span class="s2">&quot;Female Infertility&quot;</span><span class="p">,</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>    <span class="s2">&quot;atigue&quot;</span><span class="p">:</span> <span class="s2">&quot;Fatigue&quot;</span><span class="p">,</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>    <span class="s2">&quot;acial Wrinkles&quot;</span><span class="p">:</span> <span class="s2">&quot;Facial Wrinkles&quot;</span><span class="p">,</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>    <span class="s2">&quot;zen Shoulde&quot;</span><span class="p">:</span> <span class="s2">&quot;Frozen Shoulder&quot;</span><span class="p">,</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>    <span class="s2">&quot;eve&quot;</span><span class="p">:</span> <span class="s2">&quot;Fever&quot;</span><span class="p">,</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>    <span class="s2">&quot;lic Acid Deficiency&quot;</span><span class="p">:</span> <span class="s2">&quot;Folic Acid Deficiency&quot;</span><span class="p">,</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>    <span class="s2">&quot;von Willebrand&#39;s Disease&quot;</span><span class="p">:</span> <span class="s2">&quot;Von Willebrand&#39;s Disease&quot;</span><span class="p">,</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>    <span class="s2">&quot;amilial Mediterranean Feve&quot;</span><span class="p">:</span> <span class="s2">&quot;Familial Mediterranean Fever&quot;</span><span class="p">,</span>
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a>    <span class="s2">&quot;cal Segmental Glomerulosclerosis&quot;</span><span class="p">:</span> <span class="s2">&quot;Focal Segmental Glomerulosclerosis&quot;</span><span class="p">,</span>
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a>    <span class="s2">&quot;ailure to Thrive&quot;</span><span class="p">:</span> <span class="s2">&quot;Failure to Thrive&quot;</span><span class="p">,</span>
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a>    <span class="s2">&quot;amilial Cold Autoinflammatory Syndrome&quot;</span><span class="p">:</span> <span class="s2">&quot;Familial Cold Autoinflammatory Syndrome&quot;</span><span class="p">,</span>
</span><span id="__span-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a>    <span class="s2">&quot;actor IX Deficiency&quot;</span><span class="p">:</span> <span class="s2">&quot;Factor IX Deficiency&quot;</span><span class="p">,</span>
</span><span id="__span-17-16"><a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a>    <span class="s2">&quot;acial Lipoatrophy&quot;</span><span class="p">:</span> <span class="s2">&quot;Facial Lipoatrophy&quot;</span><span class="p">,</span>
</span><span id="__span-17-17"><a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a>    <span class="s2">&quot;ungal Pneumonia&quot;</span><span class="p">:</span> <span class="s2">&quot;Fungal Pneumonia&quot;</span><span class="p">,</span>
</span><span id="__span-17-18"><a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a>    <span class="s2">&quot;llicular Lymphoma&quot;</span><span class="p">:</span> <span class="s2">&quot;Follicular Lymphoma&quot;</span><span class="p">,</span>
</span><span id="__span-17-19"><a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a>    <span class="s2">&quot;unctional Gastric Disorde&quot;</span><span class="p">:</span> <span class="s2">&quot;Functional Gastric Disorder&quot;</span><span class="p">,</span>
</span><span id="__span-17-20"><a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a>    <span class="s2">&quot;ungal Infection Prophylaxis&quot;</span><span class="p">:</span> <span class="s2">&quot;Fungal Infection Prophylaxis&quot;</span><span class="p">,</span>
</span><span id="__span-17-21"><a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a>    <span class="s2">&quot;ibrocystic Breast Disease&quot;</span><span class="p">:</span> <span class="s2">&quot;Fibrocystic Breast Disease&quot;</span><span class="p">,</span>
</span><span id="__span-17-22"><a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a>    <span class="s2">&quot;llicle Stimulation&quot;</span><span class="p">:</span> <span class="s2">&quot;Follicle Stimulation&quot;</span><span class="p">,</span>
</span><span id="__span-17-23"><a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a>
</span><span id="__span-17-24"><a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a>    <span class="s2">&quot;moterol)&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-17-25"><a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a>    <span class="s2">&quot;min)&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-17-26"><a id="__codelineno-17-26" name="__codelineno-17-26" href="#__codelineno-17-26"></a>    <span class="s2">&quot;ge (amlodipine / valsartan)&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-17-27"><a id="__codelineno-17-27" name="__codelineno-17-27" href="#__codelineno-17-27"></a>    <span class="s2">&quot;moterol / mometasone)&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-17-28"><a id="__codelineno-17-28" name="__codelineno-17-28" href="#__codelineno-17-28"></a>    <span class="s2">&quot;min / sitagliptin)&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-17-29"><a id="__codelineno-17-29" name="__codelineno-17-29" href="#__codelineno-17-29"></a>    <span class="s2">&quot;mulation) (phenylephrine)&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-17-30"><a id="__codelineno-17-30" name="__codelineno-17-30" href="#__codelineno-17-30"></a>    <span class="s2">&quot;min / saxagliptin)&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-17-31"><a id="__codelineno-17-31" name="__codelineno-17-31" href="#__codelineno-17-31"></a>    <span class="s2">&quot;mis&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-17-32"><a id="__codelineno-17-32" name="__codelineno-17-32" href="#__codelineno-17-32"></a>    <span class="s2">&quot;min / pioglitazone)&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-17-33"><a id="__codelineno-17-33" name="__codelineno-17-33" href="#__codelineno-17-33"></a>    <span class="s2">&quot;ge HCT (amlodipine / hydrochlorothiazide / valsartan)&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-17-34"><a id="__codelineno-17-34" name="__codelineno-17-34" href="#__codelineno-17-34"></a>    <span class="s2">&quot;min / rosiglitazone)&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-17-35"><a id="__codelineno-17-35" name="__codelineno-17-35" href="#__codelineno-17-35"></a>    <span class="s2">&quot;tic (mycophenolic acid)&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-17-36"><a id="__codelineno-17-36" name="__codelineno-17-36" href="#__codelineno-17-36"></a>    <span class="s2">&quot;t Care&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-17-37"><a id="__codelineno-17-37" name="__codelineno-17-37" href="#__codelineno-17-37"></a>    <span class="s2">&quot;t Pac with Cyclobenzaprine (cyclobenzaprine)&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-17-38"><a id="__codelineno-17-38" name="__codelineno-17-38" href="#__codelineno-17-38"></a>    <span class="s2">&quot;me&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-17-39"><a id="__codelineno-17-39" name="__codelineno-17-39" href="#__codelineno-17-39"></a>    <span class="s2">&quot;mist (&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-17-40"><a id="__codelineno-17-40" name="__codelineno-17-40" href="#__codelineno-17-40"></a>    <span class="s2">&quot;m Pain Disorde&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-17-41"><a id="__codelineno-17-41" name="__codelineno-17-41" href="#__codelineno-17-41"></a><span class="p">}</span>
</span><span id="__span-17-42"><a id="__codelineno-17-42" name="__codelineno-17-42" href="#__codelineno-17-42"></a>
</span><span id="__span-17-43"><a id="__codelineno-17-43" name="__codelineno-17-43" href="#__codelineno-17-43"></a><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;condition&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">replacements</span><span class="p">))</span>
</span></code></pre></div>
<p>Identifying all conditions losing their terminating <code>r</code>s would require nontrivial
domain knowledge and effort.
I can only come up with and correct "disorde" and "(f)eve",
which should be "disorder" and "fever", respectively.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="p">(</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>    <span class="n">df</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;condition&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">ends_with</span><span class="p">(</span><span class="s2">&quot;eve&quot;</span><span class="p">))</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>    <span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s2">&quot;condition&quot;</span><span class="p">)</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>    <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="p">)</span>
</span></code></pre></div>
<div><style>
.dataframe > thead > tr,
.dataframe > tbody > tr {
  text-align: right;
  white-space: pre-wrap;
}
</style>
<small>shape: (3, 2)</small><table border="1" class="dataframe"><thead><tr><th>condition</th><th>count</th></tr><tr><td>str</td><td>u32</td></tr></thead><tbody><tr><td>&quot;Q Feve&quot;</td><td>1</td></tr><tr><td>&quot;Typhoid Feve&quot;</td><td>2</td></tr><tr><td>&quot;Pain/Feve&quot;</td><td>13</td></tr></tbody></table></div>

<div class="language-python highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="p">(</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>    <span class="n">df</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;condition&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">ends_with</span><span class="p">(</span><span class="s2">&quot;rde&quot;</span><span class="p">))</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>    <span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s2">&quot;condition&quot;</span><span class="p">)</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>    <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="p">)</span>
</span></code></pre></div>
<div><style>
.dataframe > thead > tr,
.dataframe > tbody > tr {
  text-align: right;
  white-space: pre-wrap;
}
</style>
<small>shape: (27, 2)</small><table border="1" class="dataframe"><thead><tr><th>condition</th><th>count</th></tr><tr><td>str</td><td>u32</td></tr></thead><tbody><tr><td>&quot;Binge Eating Disorde&quot;</td><td>72</td></tr><tr><td>&quot;Temporomandibular Joint Disorde&quot;</td><td>30</td></tr><tr><td>&quot;Bleeding Disorde&quot;</td><td>7</td></tr><tr><td>&quot;Social Anxiety Disorde&quot;</td><td>389</td></tr><tr><td>&quot;Borderline Personality Disorde&quot;</td><td>151</td></tr><tr><td>&quot;Hypoactive Sexual Desire Disorde&quot;</td><td>7</td></tr><tr><td>&quot;Shift Work Sleep Disorde&quot;</td><td>60</td></tr><tr><td>&quot;Post Traumatic Stress Disorde&quot;</td><td>314</td></tr><tr><td>&quot;Somatoform Pain Disorde&quot;</td><td>1</td></tr><tr><td>&quot;Dissociative Identity Disorde&quot;</td><td>1</td></tr><tr><td>&quot;Bipolar Disorde&quot;</td><td>4224</td></tr><tr><td>&quot;Tic Disorde&quot;</td><td>2</td></tr><tr><td>&quot;Persistent Depressive Disorde&quot;</td><td>12</td></tr><tr><td>&quot;Major Depressive Disorde&quot;</td><td>1607</td></tr><tr><td>&quot;Schizoaffective Disorde&quot;</td><td>396</td></tr><tr><td>&quot;Paranoid Disorde&quot;</td><td>38</td></tr><tr><td>&quot;Cyclothymic Disorde&quot;</td><td>5</td></tr><tr><td>&quot;Auditory Processing Disorde&quot;</td><td>5</td></tr><tr><td>&quot;Seasonal Affective Disorde&quot;</td><td>16</td></tr><tr><td>&quot;Periodic Limb Movement Disorde&quot;</td><td>43</td></tr><tr><td>&quot;Panic Disorde&quot;</td><td>1463</td></tr><tr><td>&quot;Intermittent Explosive Disorde&quot;</td><td>2</td></tr><tr><td>&quot;Generalized Anxiety Disorde&quot;</td><td>1164</td></tr><tr><td>&quot;Oppositional Defiant Disorde&quot;</td><td>1</td></tr><tr><td>&quot;Obsessive Compulsive Disorde&quot;</td><td>579</td></tr><tr><td>&quot;Body Dysmorphic Disorde&quot;</td><td>9</td></tr><tr><td>&quot;Premenstrual Dysphoric Disorde&quot;</td><td>298</td></tr></tbody></table></div>

<div class="language-python highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>    <span class="n">col</span><span class="p">(</span><span class="s2">&quot;condition&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^(.+(?:rd|ev)e)$&quot;</span><span class="p">,</span> <span class="s2">&quot;$</span><span class="si">{1}</span><span class="s2">r&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="s2">&quot;condition&quot;</span><span class="p">)</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="p">)</span>
</span></code></pre></div>
<h2 id="decoding-html-entities-in-reviews">Decoding HTML entities in <code>review</code>s<a class="headerlink" href="#decoding-html-entities-in-reviews" title="Permanent link">&para;</a></h2>
<p>It turns out that many HTML entities besides <code>&amp;#039;</code> are present in the <code>review</code> column
and using <code>html.unescape()</code> as recommended by the Hugging Face tutorial
is probably more robust than replacing them individually. So we do just that.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="n">q</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>    <span class="n">df</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;review&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract_all</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;&amp;#?[[:alnum:]]+;&quot;</span><span class="p">))</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>    <span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="s2">&quot;review&quot;</span><span class="p">)</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>    <span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s2">&quot;review&quot;</span><span class="p">)</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>    <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>    <span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="n">descending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="p">);</span> <span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>45
</code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="n">q</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</span></code></pre></div>
<div><style>
.dataframe > thead > tr,
.dataframe > tbody > tr {
  text-align: right;
  white-space: pre-wrap;
}
</style>
<small>shape: (10, 2)</small><table border="1" class="dataframe"><thead><tr><th>review</th><th>count</th></tr><tr><td>str</td><td>u32</td></tr></thead><tbody><tr><td>&quot;&amp;#039;&quot;</td><td>262415</td></tr><tr><td>null</td><td>55984</td></tr><tr><td>&quot;&amp;quot;&quot;</td><td>21262</td></tr><tr><td>&quot;&amp;amp;&quot;</td><td>13047</td></tr><tr><td>&quot;&amp;rsquo;&quot;</td><td>3029</td></tr><tr><td>&quot;&amp;gt;&quot;</td><td>162</td></tr><tr><td>&quot;&amp;rdquo;&quot;</td><td>117</td></tr><tr><td>&quot;&amp;ldquo;&quot;</td><td>116</td></tr><tr><td>&quot;&amp;eacute;&quot;</td><td>111</td></tr><tr><td>&quot;&amp;lt;&quot;</td><td>108</td></tr></tbody></table></div>

<div class="language-python highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">html</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;review&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">map_elements</span><span class="p">(</span><span class="n">html</span><span class="o">.</span><span class="n">unescape</span><span class="p">,</span> <span class="n">return_dtype</span><span class="o">=</span><span class="n">pl</span><span class="o">.</span><span class="n">String</span><span class="p">))</span>
</span></code></pre></div>
<h2 id="simplifying-newlines-in-reviews">Simplifying newlines in <code>review</code>s<a class="headerlink" href="#simplifying-newlines-in-reviews" title="Permanent link">&para;</a></h2>
<p>Another issue of the <code>review</code>s pointed out by the Hugging Face tutorial is
the presence of many different kinds of newline characters.
I decide to replace all consecutive newline characters with one <code>\n</code>.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="n">df</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;uniqueID&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">121260</span><span class="p">)</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;review&quot;</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>&#39;&quot;More than Depression I take Effexor for Anxiety and it works well.  The only problem\r\r\noccurs when I forget to take it.  Within in hours I experience withdrawal symptoms\r\r\nsuch as light headiness and an occasional brief buzzing in my head.&quot;&#39;
</code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;review&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace_all</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[\r\n]+&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">))</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="n">df</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;uniqueID&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">121260</span><span class="p">)</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;review&quot;</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>&#39;&quot;More than Depression I take Effexor for Anxiety and it works well.  The only problem\noccurs when I forget to take it.  Within in hours I experience withdrawal symptoms\nsuch as light headiness and an occasional brief buzzing in my head.&quot;&#39;
</code></pre></div>
<h2 id="reformatting-date">Reformatting <code>date</code><a class="headerlink" href="#reformatting-date" title="Permanent link">&para;</a></h2>
<p>Finally, I reformat the <code>dates</code> into "yyyy-mm-dd", which is sortable as string.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">to_date</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%-d</span><span class="s2">-%b-%y&quot;</span><span class="p">))</span>
</span></code></pre></div>
<h2 id="saving-and-sharing">Saving and sharing<a class="headerlink" href="#saving-and-sharing" title="Permanent link">&para;</a></h2>
<p>The test set is processed the same way and the procedure is omitted for brevity.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="k">if</span> <span class="n">DATA_DIR</span><span class="p">:</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>    <span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">DATA_DIR</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a>    <span class="n">df</span><span class="o">.</span><span class="n">write_csv</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">DATA_DIR</span><span class="si">}</span><span class="s2">/train.tsv&quot;</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="k">if</span> <span class="n">REPO_ID</span> <span class="ow">and</span> <span class="n">SECRET</span><span class="p">:</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>    <span class="err">!</span><span class="n">uv</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">system</span> <span class="o">-</span><span class="n">q</span> <span class="n">datasets</span>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a>    <span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a>    <span class="kn">from</span><span class="w"> </span><span class="nn">google.colab</span><span class="w"> </span><span class="kn">import</span> <span class="n">userdata</span>
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a>
</span><span id="__span-28-13"><a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a>    <span class="n">dataset</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span>
</span><span id="__span-28-14"><a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a>        <span class="s2">&quot;csv&quot;</span><span class="p">,</span>
</span><span id="__span-28-15"><a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a>        <span class="n">data_files</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">train</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">DATA_DIR</span><span class="si">}</span><span class="s2">/train.tsv&quot;</span><span class="p">,</span> <span class="n">test</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">DATA_DIR</span><span class="si">}</span><span class="s2">/test.tsv&quot;</span><span class="p">),</span>
</span><span id="__span-28-16"><a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a>        <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="__span-28-17"><a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a>    <span class="p">)</span>
</span><span id="__span-28-18"><a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a>
</span><span id="__span-28-19"><a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a>    <span class="n">dataset</span><span class="o">.</span><span class="n">push_to_hub</span><span class="p">(</span><span class="n">REPO_ID</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="n">userdata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">SECRET</span><span class="p">))</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>Uploading the dataset shards:   0%|          | 0/1 [00:00&lt;?, ?it/s]



Creating parquet from Arrow format:   0%|          | 0/162 [00:00&lt;?, ?ba/s]



Uploading the dataset shards:   0%|          | 0/1 [00:00&lt;?, ?it/s]



Creating parquet from Arrow format:   0%|          | 0/54 [00:00&lt;?, ?ba/s]
</code></pre></div>







  
  




  



  <h2 id="__comments">Comments</h2>
  <!-- Insert generated snippet here -->
  <script src="https://giscus.app/client.js"
    data-repo="dd-n-kk/blog"
    data-repo-id="R_kgDOOJfWHA"
    data-category="giscus comments"
    data-category-id="DIC_kwDOOJfWHM4CoGzM"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="0"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="noborder_gray"
    data-lang="en"
    data-loading="lazy"
    crossorigin="anonymous"
    async>
  </script>

  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    // Set palette on initial load
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate"
        ? "noborder_gray"
        : "noborder_light"

      // Instruct Giscus to set theme
      giscus.setAttribute("data-theme", theme)
    }

    // Register event handlers after documented loaded
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate"
            ? "noborder_gray"
            : "noborder_light"

          // Instruct Giscus to change theme
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

      
    </article>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
        
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../setup-mkdocs-material-blog/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Setting up a blog with Material for MkDocs">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Setting up a blog with Material for MkDocs
              </div>
            </div>
          </a>
        
        
          
          <a href="../get-github-repo-issues-comments/" class="md-footer__link md-footer__link--next" aria-label="Next: Getting GitHub repo issues and comments">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Getting GitHub repo issues and comments
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 - 2025 dd-n-kk
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/dd-n-kk" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.top", "navigation.tracking", "search.highlight", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../javascripts/katex.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>